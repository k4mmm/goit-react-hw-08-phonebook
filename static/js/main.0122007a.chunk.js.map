{"version":3,"sources":["Redux/auth/authOperations.js","Redux/auth/authSelectors.js","Components/Menu/default-avatar.png","Components/Menu/Menu.jsx","Pages/ContactsPage/ContactsPage.styled.jsx","Redux/contacts/contactsAction.js","Components/Filter/Filter.styled.jsx","Redux/contacts/contactsSelectors.js","Components/Filter/Filter.jsx","Components/ContactForm/ContactForm.styled.jsx","API/contactsApi.js","Redux/contacts/contactsOperations.js","Components/ContactForm/ContactForm.jsx","Components/ContactList/ContactList.styled.jsx","Components/ContactList/ContactList.jsx","Pages/ContactsPage/ContactsPage.jsx","Pages/HomePage/HomePage.styled.jsx","Pages/HomePage/HomePage.jsx","Pages/RegPage/RegPage.jsx","Pages/AuthPage/AuthPage.styled.jsx","Pages/AuthPage/AuthPage.jsx","App.jsx","Redux/contacts/contactsReducer.js","Redux/auth/authSlice.js","Redux/store.js","index.js"],"names":["axios","defaults","baseURL","token","headers","common","Authorization","register","createAsyncThunk","cred","a","rejectWithValue","post","data","logIn","logOut","_","console","log","currentUser","getState","state","persistedToken","auth","get","getLoggedIn","isLoggedIn","getUserEmail","user","email","Menu","dispatch","useDispatch","userEmail","useSelector","to","src","defaultAvatar","alt","width","height","type","onClick","PhonebookSection","styled","div","MainTitle","h1","Title","h2","filterChange","createAction","FilterInput","input","Label","label","getContacts","items","contacts","getFilter","filter","getIsLoading","isLoading","getVisibleContacts","createSelector","normalizedFilter","toLowerCase","item","name","includes","Filter","value","onChange","e","actions","target","placeholder","Form","form","Input","ButtonAdd","button","res","addContact","newContact","deleteOldContact","id","delete","fetchContacts","addNewContact","status","Error","message","deleteContact","ContactForm","useState","setName","number","setNumber","prevContacts","inputChange","currentTarget","onSubmit","preventDefault","uuidv4","contactData","find","contact","alert","pattern","title","required","ContactItem","li","ButtonDelete","List","ol","ContactList","visibleContacts","useEffect","map","Contacts","StyledLink","Link","StyledDiv","HomePage","RegPage","setEmail","password","setPassword","hendleChange","autoComplete","StyledH1","StyledForm","StyledLable","StyledInput","StyledButton","AuthPage","App","exact","path","createReducer","fulfilled","payload","pending","rejected","combineReducers","initialState","authSlice","createSlice","extraReducers","middleware","getDefaultMiddleware","serializableCheck","ignoredActions","FLUSH","REHYDRATE","PAUSE","PERSIST","PURGE","REGISTER","authPersistConfig","key","storage","whitelist","store","configureStore","reducer","contactsReducer","persistReducer","authReducer","devTools","process","persistor","persistStore","ReactDOM","render","StrictMode","loading","document","getElementById"],"mappings":"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","file":"static/js/main.0122007a.chunk.js","sourcesContent":["import axios from \"axios\";\nimport { createAsyncThunk } from \"@reduxjs/toolkit\";\n\naxios.defaults.baseURL = \"https://connections-api.herokuapp.com\";\n\nconst token = {\n  set(token) {\n    axios.defaults.headers.common.Authorization = `Bearer ${token}`;\n  },\n  unset() {\n    axios.defaults.headers.common.Authorization = \"\";\n  },\n};\n\nexport const register = createAsyncThunk(\n  \"auth/register\",\n  async (cred, { rejectWithValue }) => {\n    try {\n      const { data } = await axios.post(\"/users/signup\", cred);\n      token.set(data.token);\n      return data;\n    } catch (error) {\n      return rejectWithValue();\n    }\n  }\n);\n\nexport const logIn = createAsyncThunk(\n  \"auth/login\",\n  async (cred, { rejectWithValue }) => {\n    try {\n      const { data } = await axios.post(\"/users/login\", cred);\n\n      token.set(data.token);\n      return data;\n    } catch (error) {\n      return rejectWithValue();\n    }\n  }\n);\n\nexport const logOut = createAsyncThunk(\n  \"auth/logout\",\n  async (_, { rejectWithValue }) => {\n    try {\n      const { data } = await axios.post(\"/users/logout\");\n      console.log(data);\n      token.unset();\n      return data;\n    } catch (error) {\n      rejectWithValue();\n    }\n  }\n);\n\nexport const currentUser = createAsyncThunk(\n  \"auth/currentUser\",\n  async (_, { getState, rejectWithValue }) => {\n    const state = getState();\n    const persistedToken = state.auth.token;\n    if (persistedToken === null) {\n      return rejectWithValue();\n    }\n    token.set(persistedToken);\n    try {\n      const { data } = await axios.get(\"/users/current\");\n      return data;\n    } catch (error) {\n      rejectWithValue();\n    }\n  }\n);\n","export const getLoggedIn = (state) => state.auth.isLoggedIn;\nexport const getUserName = (state) => state.auth.user.name;\nexport const getUserEmail = (state) => state.auth.user.email;\n","export default __webpack_public_path__ + \"static/media/default-avatar.e44fc4e2.png\";","import { useDispatch, useSelector } from \"react-redux\";\nimport { Link } from \"react-router-dom\";\nimport { logOut } from \"../../Redux/auth/authOperations\";\nimport { getUserEmail } from \"../../Redux/auth/authSelectors\";\nimport defaultAvatar from \"./default-avatar.png\";\nconst Menu = () => {\n  const dispatch = useDispatch();\n  const userEmail = useSelector(getUserEmail);\n  return (\n    <header>\n      <div>\n        <Link to=\"/contacts\">Contacts</Link>\n        <img src={defaultAvatar} alt=\"avatar\" width=\"40\" height=\"40\" />\n        <p>Hello, {userEmail}</p>\n        <button type=\"button\" onClick={() => dispatch(logOut())}>\n          LogOut\n        </button>\n      </div>\n    </header>\n  );\n};\nexport default Menu;\n","import styled from \"@emotion/styled\";\n\nexport const PhonebookSection = styled.div`\n  margin-left: 20px;\n`;\nexport const MainTitle = styled.h1`\n  text-transform: uppercase;\n  font-size: 24px;\n`;\nexport const Title = styled.h2`\n  text-transform: uppercase;\n  font-size: 18px;\n`;\n","import { createAction } from \"@reduxjs/toolkit\";\nexport const filterChange = createAction(\"filterChange\");\n","import styled from \"@emotion/styled\";\r\n\r\nexport const FilterInput = styled.input`\r\n  margin-top: 10px;\r\n`;\r\n\r\nexport const Label = styled.label`\r\n  display: flex;\r\n  flex-direction: column;\r\n  text-align: center;\r\n  width: 300px;\r\n`;\r\n","import { createSelector } from \"@reduxjs/toolkit\";\n\nexport const getContacts = (state) => state.items.contacts;\n\nexport const getFilter = (state) => state.items.filter;\n\nexport const getIsLoading = (state) => state.items.isLoading;\n\nexport const getVisibleContacts = createSelector(\n  [getContacts, getFilter],\n  (contacts, filter) => {\n    const normalizedFilter = filter.toLowerCase();\n    return contacts.filter((item) =>\n      item.name.toLowerCase().includes(normalizedFilter)\n    );\n  }\n);\n","import { useSelector, useDispatch } from \"react-redux\";\nimport * as actions from \"../../Redux/contacts/contactsAction\";\nimport { FilterInput, Label } from \"./Filter.styled\";\nimport { getFilter } from \"../../Redux/contacts/contactsSelectors\";\n\nexport default function Filter() {\n  const dispatch = useDispatch();\n  const filter = useSelector(getFilter);\n  const filterChange = (e) => dispatch(actions.filterChange(e.target.value));\n  return (\n    <Label>\n      Find contact by name\n      <FilterInput\n        type=\"text\"\n        value={filter}\n        onChange={filterChange}\n        name=\"filter\"\n        placeholder=\"Enter contact name\"\n      />\n    </Label>\n  );\n}\n","import styled from \"@emotion/styled\";\r\n\r\nexport const Form = styled.form`\r\n  display: flex;\r\n  flex-direction: column;\r\n  width: 300px;\r\n  height: auto;\r\n  border: 1px solid black;\r\n`;\r\n\r\nexport const Label = styled.label`\r\n  display: flex;\r\n  flex-direction: column;\r\n  text-align: center;\r\n`;\r\n\r\nexport const Input = styled.input`\r\n  margin: 10px 20px;\r\n`;\r\n\r\nexport const ButtonAdd = styled.button`\r\n  margin-bottom: 10px;\r\n  width: 50%;\r\n  align-self: center;\r\n  background-color: #46ec8b;\r\n  border: 1px solid #46ec8b;\r\n  border-radius: 5px;\r\n  &:hover,\r\n  &:active {\r\n    background-color: #7171bd;\r\n    border: 1px solid black;\r\n    box-shadow: 0 0 10px rgba(0, 0, 0, 0.5);\r\n  }\r\n`;\r\n","import axios from \"axios\";\n\naxios.defaults.baseURL = \"https://connections-api.herokuapp.com\";\n\nexport async function getContacts() {\n  const res = await axios.get(\"/contacts\");\n  return res.data;\n}\n\nexport async function addContact(newContact) {\n  const res = await axios.post(\"/contacts\", newContact);\n  return res;\n}\n\nexport async function deleteOldContact(id) {\n  const res = await axios.delete(`/contacts/${id}`);\n  return res;\n}\n","import { createAsyncThunk } from \"@reduxjs/toolkit\";\nimport {\n  getContacts,\n  addContact,\n  deleteOldContact,\n} from \"../../API/contactsApi\";\n\nexport const fetchContacts = createAsyncThunk(\n  \"fetchContacts\",\n  async (_, { rejectWithValue }) => {\n    try {\n      return await getContacts();\n    } catch (error) {\n      return rejectWithValue(error);\n    }\n  }\n);\n\nexport const addNewContact = createAsyncThunk(\n  \"addNewContact\",\n  async (newContact, { rejectWithValue }) => {\n    try {\n      const res = await addContact(newContact);\n      if (res.status !== 201) {\n        throw new Error(res.message);\n      }\n      return await getContacts();\n    } catch (error) {\n      return rejectWithValue(error);\n    }\n  }\n);\n\nexport const deleteContact = createAsyncThunk(\n  \"deleteContact\",\n  async (id, { rejectWithValue }) => {\n    try {\n      const res = await deleteOldContact(id);\n      if (res.status !== 200) {\n        throw new Error(res.message);\n      }\n      return await getContacts();\n    } catch (error) {\n      return rejectWithValue(error);\n    }\n  }\n);\n","import { useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { v4 as uuidv4 } from \"uuid\";\nimport { Form, Input, Label, ButtonAdd } from \"./ContactForm.styled\";\nimport { addNewContact } from \"../../Redux/contacts/contactsOperations\";\nimport { getContacts } from \"../../Redux/contacts/contactsSelectors\";\n\nexport default function ContactForm() {\n  const [name, setName] = useState(\"\");\n  const [number, setNumber] = useState(\"\");\n  const dispatch = useDispatch();\n  const prevContacts = useSelector(getContacts);\n\n  const reset = () => {\n    setName(\"\");\n    setNumber(\"\");\n  };\n\n  const inputChange = (e) => {\n    const { name, value } = e.currentTarget;\n    switch (name) {\n      case \"name\":\n        setName(value);\n        break;\n      case \"number\":\n        setNumber(value);\n        break;\n      default:\n        return;\n    }\n  };\n\n  const addContact = (e) => {\n    e.preventDefault();\n    let id = uuidv4();\n    const contactData = {\n      name,\n      id,\n      number,\n    };\n    const findContacts = prevContacts.find((contact) => contact.name === name);\n    !findContacts\n      ? dispatch(addNewContact(contactData))\n      : alert(`${name} is already in contact`);\n    reset();\n  };\n\n  return (\n    <Form onSubmit={addContact}>\n      <Label>\n        Name:\n        <Input\n          type=\"text\"\n          name=\"name\"\n          onChange={inputChange}\n          value={name}\n          placeholder=\"New contact name\"\n          pattern=\"^[a-zA-Zа-яА-Я]+(([' -][a-zA-Zа-яА-Я ])?[a-zA-Zа-яА-Я]*)*$\"\n          title=\"Имя может состоять только из букв, апострофа, тире и пробелов. Например Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan и т. п.\"\n          required\n        />\n      </Label>\n      <Label>\n        Tel:\n        <Input\n          type=\"tel\"\n          name=\"number\"\n          value={number}\n          placeholder=\"New contact number\"\n          onChange={inputChange}\n          pattern=\"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}\"\n          title=\"Номер телефона должен состоять цифр и может содержать пробелы, тире, круглые скобки и может начинаться с +\"\n          required\n        />\n      </Label>\n      <ButtonAdd type=\"submit\">Add contact</ButtonAdd>\n    </Form>\n  );\n}\n","import styled from \"@emotion/styled\";\r\n\r\nexport const ContactItem = styled.li``;\r\n\r\nexport const ButtonDelete = styled.button`\r\n  background-color: #46ec8b;\r\n  border: 1px solid #46ec8b;\r\n  border-radius: 5px;\r\n  margin-left: 10px;\r\n  &:hover,\r\n  &:active {\r\n    background-color: #7171bd;\r\n    border: 1px solid black;\r\n    box-shadow: 0 0 10px rgba(0, 0, 0, 0.5);\r\n  }\r\n`;\r\n\r\nexport const List = styled.ol``;\r\n","import { useSelector, useDispatch } from \"react-redux\";\nimport { useEffect } from \"react\";\nimport { ButtonDelete, ContactItem, List } from \"./ContactList.styled\";\nimport {\n  getVisibleContacts,\n  getIsLoading,\n} from \"../../Redux/contacts/contactsSelectors\";\nimport {\n  fetchContacts,\n  deleteContact,\n} from \"../../Redux/contacts/contactsOperations\";\n\nexport default function ContactList() {\n  const dispatch = useDispatch();\n  const visibleContacts = useSelector(getVisibleContacts);\n  const isLoading = useSelector(getIsLoading);\n  useEffect(() => dispatch(fetchContacts()), [dispatch]);\n\n  return (\n    <List>\n      {isLoading && <p>Loading...</p>}\n      {visibleContacts.map((contact) => {\n        return (\n          <ContactItem key={contact.id}>\n            {contact.name} : {contact.number}\n            <ButtonDelete\n              type=\"submit\"\n              onClick={() => {\n                dispatch(deleteContact(contact.id));\n              }}\n            >\n              Delete\n            </ButtonDelete>\n          </ContactItem>\n        );\n      })}\n    </List>\n  );\n}\n","import { MainTitle, Title, PhonebookSection } from \"./ContactsPage.styled\";\nimport Filter from \"../../Components/Filter/Filter\";\nimport ContactForm from \"../../Components/ContactForm/ContactForm\";\nimport ContactList from \"../../Components/ContactList/ContactList\";\nexport default function Contacts() {\n  return (\n    <PhonebookSection>\n      <MainTitle>Phonebook</MainTitle>\n      <ContactForm />\n      <Title>Contacts</Title>\n      <Filter />\n      <ContactList />\n    </PhonebookSection>\n  );\n}\n","import { Link } from \"react-router-dom\";\nimport styled from \"@emotion/styled\";\n\nexport const StyledLink = styled(Link)`\n  font-size: 50px;\n  text-decoration: none;\n  color: saddlebrown;\n  transition: color 250ms linear;\n  &:first-of-type {\n    margin-right: 50px;\n  }\n  &:active,\n  &:hover {\n    color: #696869;\n  }\n`;\n\nexport const StyledDiv = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  background-color: #d5bdd8;\n  height: 100vh;\n`;\n","import { StyledLink, StyledDiv } from \"./HomePage.styled\";\nimport React from \"react\";\nconst HomePage = () => {\n  return (\n    <StyledDiv>\n      <StyledLink to=\"/login\">Authorization</StyledLink>\n      <StyledLink to=\"/register\">Registration</StyledLink>\n    </StyledDiv>\n  );\n};\n\nexport default HomePage;\n","import { useState } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport { Link } from \"react-router-dom\";\nimport { register } from \"../../Redux/auth/authOperations\";\n\nexport default function RegPage() {\n  const dispatch = useDispatch();\n  const [name, setName] = useState(\"\");\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n\n  const submit = (e) => {\n    e.preventDefault();\n    dispatch(register({ name, email, password }));\n    setName(\"\");\n    setEmail(\"\");\n    setPassword(\"\");\n  };\n  const hendleChange = ({ target: { name, value } }) => {\n    switch (name) {\n      case \"name\":\n        return setName(value);\n      case \"email\":\n        return setEmail(value);\n      case \"password\":\n        return setPassword(value);\n      default:\n        return;\n    }\n  };\n\n  return (\n    <div>\n      <h1>Registration</h1>\n      <form autoComplete=\"off\" onSubmit={submit}>\n        <label>\n          Name\n          <input name=\"name\" value={name} onChange={hendleChange} />\n        </label>\n        <label>\n          Email\n          <input name=\"email\" value={email} onChange={hendleChange} />\n        </label>\n        <label>\n          Password\n          <input\n            type=\"password\"\n            name=\"password\"\n            value={password}\n            onChange={hendleChange}\n          />\n        </label>\n        <button type=\"submit\">Register</button>\n        Or <Link to=\"/login\">Log In</Link>\n      </form>\n    </div>\n  );\n}\n","import { Link } from \"react-router-dom\";\nimport styled from \"@emotion/styled\";\n\nexport const StyledDiv = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  flex-direction: column;\n  background-color: #d5bdd8;\n  height: 100vh;\n`;\n\nexport const StyledH1 = styled.h1`\n  color: saddlebrown;\n  font-size: 50px;\n`;\nexport const StyledForm = styled.form`\n  display: flex;\n  flex-direction: column;\n`;\n\nexport const StyledLable = styled.label`\n  display: flex;\n  flex-direction: column;\n  margin-bottom: 10px;\n`;\n\nexport const StyledInput = styled.input`\n  border-radius: 10px;\n  border: solid saddlebrown;\n  padding: 5px 10px;\n  &:active,\n  &:hover {\n    border: solid black;\n  }\n`;\n\nexport const StyledButton = styled.button`\n  width: max-content;\n  border-radius: 10px;\n  border: none;\n  padding: 5px;\n  align-self: center;\n  background-color: #fff;\n  font-weight: bold;\n  margin-bottom: 15px;\n  cursor: pointer;\n  &:hover,\n  &:focus {\n    color: #fff;\n    background-color: saddlebrown;\n  }\n`;\n\nexport const StyledLink = styled(Link)`\n  text-decoration: none;\n  color: saddlebrown;\n  transition: color 250ms linear;\n  align-self: center;\n  cursor: pointer;\n\n  &:active,\n  &:hover {\n    color: #696869;\n    font-weight: 700;\n    text-decoration: underline;\n  }\n`;\n","import { useState } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport { logIn } from \"../../Redux/auth/authOperations\";\nimport {\n  StyledDiv,\n  StyledH1,\n  StyledForm,\n  StyledLable,\n  StyledButton,\n  StyledInput,\n  StyledLink,\n} from \"./AuthPage.styled\";\nexport default function AuthPage() {\n  const dispatch = useDispatch();\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n\n  const submit = (e) => {\n    e.preventDefault();\n    dispatch(logIn({ email, password }));\n    setEmail(\"\");\n    setPassword(\"\");\n  };\n\n  const hendleChange = ({ target: { name, value } }) => {\n    switch (name) {\n      case \"email\":\n        return setEmail(value);\n      case \"password\":\n        return setPassword(value);\n      default:\n        return;\n    }\n  };\n\n  return (\n    <StyledDiv>\n      <StyledH1>Authorization</StyledH1>\n      <StyledForm autoComplete=\"off\" onSubmit={submit}>\n        <StyledLable>\n          Email\n          <StyledInput\n            placeholder=\"Enter password\"\n            name=\"email\"\n            value={email}\n            onChange={hendleChange}\n          />\n        </StyledLable>\n        <StyledLable>\n          Password\n          <StyledInput\n            type=\"password\"\n            name=\"password\"\n            value={password}\n            onChange={hendleChange}\n            placeholder=\"Enter password\"\n          />\n        </StyledLable>\n        <StyledButton type=\"submit\">Login</StyledButton>\n        <StyledLink to=\"/register\">Click for Register</StyledLink>\n      </StyledForm>\n    </StyledDiv>\n  );\n}\n","import { Switch, Route } from \"react-router-dom\";\nimport { Suspense, lazy, useEffect } from \"react\";\nimport Menu from \"./Components/Menu/Menu\";\nimport ContactsPage from \"./Pages/ContactsPage/ContactsPage\";\nimport HomePage from \"./Pages/HomePage/HomePage\";\nimport RegPage from \"./Pages/RegPage/RegPage\";\nimport AuthPage from \"./Pages/AuthPage/AuthPage\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { getLoggedIn } from \"./Redux/auth/authSelectors\";\nimport { currentUser } from \"./Redux/auth/authOperations\";\n\n// const HomePage = lazy(() => import(\"./Pages/HomePage/HomePage\"));\n// const RegPage = lazy(() => import(\"./Pages/RegPage/RegPage\"));\n// const AuthPage = lazy(() => import(\"./Pages/AuthPage/AuthPage\"));\n// const ContactsPage = lazy(() => import(\"./Pages/ContactsPage/ContactsPage\"));\n\nexport default function App() {\n  const isLoggedIn = useSelector(getLoggedIn);\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    dispatch(currentUser());\n  }, [dispatch]);\n\n  return (\n    <div>\n      {isLoggedIn && <Menu />}\n      {/* <Menu /> */}\n      <Switch>\n        <Route exact path=\"/\">\n          <HomePage />\n        </Route>\n        <Route path=\"/register\">\n          <RegPage />\n        </Route>\n        <Route path=\"/login\">\n          <AuthPage />\n        </Route>\n        <Route path=\"/contacts\">\n          <ContactsPage />\n        </Route>\n      </Switch>\n    </div>\n  );\n}\n","import * as actions from \"./contactsAction\";\nimport { createReducer, combineReducers } from \"@reduxjs/toolkit\";\nimport {\n  fetchContacts,\n  addNewContact,\n  deleteContact,\n} from \"./contactsOperations\";\n\nconst contacts = createReducer([], {\n  [fetchContacts.fulfilled]: (_, { payload }) => payload,\n  [addNewContact.fulfilled]: (_, { payload }) => payload,\n  [deleteContact.fulfilled]: (_, { payload }) => payload,\n});\n\nconst isLoading = createReducer(false, {\n  [fetchContacts.pending]: () => true,\n  [fetchContacts.fulfilled]: () => false,\n  [fetchContacts.rejected]: () => false,\n});\n\nconst filter = createReducer(\"\", {\n  [actions.filterChange]: (_, { payload }) => payload,\n});\n\nexport default combineReducers({\n  contacts,\n  filter,\n  isLoading,\n});\n","import { createSlice } from \"@reduxjs/toolkit\";\nimport { logIn, register, logOut, currentUser } from \"./authOperations\";\n\nconst initialState = {\n  user: { name: null, email: null },\n  token: null,\n  isLoggedIn: false,\n};\n\nconst authSlice = createSlice({\n  name: \"auth\",\n  initialState,\n  extraReducers: {\n    [register.fulfilled](state, { payload }) {\n      state.user = payload.user;\n      state.token = payload.token;\n      state.isLoggedIn = true;\n    },\n    [logIn.fulfilled](state, { payload }) {\n      state.user = payload.user;\n      state.token = payload.token;\n      state.isLoggedIn = true;\n    },\n    [logOut.fulfilled](state) {\n      state.user = initialState.user;\n      state.token = initialState.token;\n      state.isLoggedIn = false;\n    },\n    [currentUser.fulfilled](state, { payload }) {\n      state.user = payload;\n      state.isLoggedIn = true;\n    },\n  },\n});\n\nexport default authSlice.reducer;\n","import { configureStore, getDefaultMiddleware } from \"@reduxjs/toolkit\";\nimport {\n  persistStore,\n  persistReducer,\n  FLUSH,\n  REHYDRATE,\n  PAUSE,\n  PERSIST,\n  PURGE,\n  REGISTER,\n} from \"redux-persist\";\nimport storage from \"redux-persist/lib/storage\";\nimport contactsReducer from \"./contacts/contactsReducer\";\nimport authReducer from \"./auth/authSlice\";\n\nconst middleware = [\n  ...getDefaultMiddleware({\n    serializableCheck: {\n      ignoredActions: [FLUSH, REHYDRATE, PAUSE, PERSIST, PURGE, REGISTER],\n    },\n  }),\n];\n\nconst authPersistConfig = {\n  key: \"auth\",\n  storage,\n  whitelist: [\"token\"],\n};\n\nexport const store = configureStore({\n  reducer: {\n    items: contactsReducer,\n    auth: persistReducer(authPersistConfig, authReducer),\n  },\n  middleware,\n  devTools: process.env.NODE_ENV !== \"production\",\n});\n\nexport const persistor = persistStore(store);\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { BrowserRouter } from \"react-router-dom\";\nimport { Provider } from \"react-redux\";\nimport { PersistGate } from \"redux-persist/integration/react\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport { store, persistor } from \"./Redux/store\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <PersistGate loading={null} persistor={persistor}>\n        <BrowserRouter>\n          <App />\n        </BrowserRouter>\n      </PersistGate>\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}